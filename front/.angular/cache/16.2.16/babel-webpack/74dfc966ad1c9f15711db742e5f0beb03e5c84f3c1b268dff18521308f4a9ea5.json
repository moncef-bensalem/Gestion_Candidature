{"ast":null,"code":"import { forkJoin } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../_services/company-stats.service\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../company-navbar/company-navbar.component\";\nfunction CompanyHomeComponent_p_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.activeOffers);\n  }\n}\nfunction CompanyHomeComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15)(2, \"span\", 16);\n    i0.ɵɵtext(3, \"Chargement...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction CompanyHomeComponent_p_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.totalApplications);\n  }\n}\nfunction CompanyHomeComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15)(2, \"span\", 16);\n    i0.ɵɵtext(3, \"Chargement...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction CompanyHomeComponent_p_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r4.newApplications);\n  }\n}\nfunction CompanyHomeComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15)(2, \"span\", 16);\n    i0.ɵɵtext(3, \"Chargement...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport let CompanyHomeComponent = /*#__PURE__*/(() => {\n  class CompanyHomeComponent {\n    constructor(companyStatsService, toastr) {\n      this.companyStatsService = companyStatsService;\n      this.toastr = toastr;\n      this.totalProfiles = 0;\n      this.totalOffers = 0;\n      this.newOffers = 0;\n      this.loading = true;\n    }\n    ngOnInit() {\n      this.loadDashboardData();\n    }\n    loadDashboardData() {\n      this.loading = true;\n      // Utiliser forkJoin pour faire toutes les requêtes en parallèle\n      forkJoin({\n        profiles: this.companyStatsService.getProfilesCount(),\n        offers: this.companyStatsService.getOffersCount(),\n        newOffers: this.companyStatsService.getNewOffersCount()\n      }).subscribe({\n        next: data => {\n          this.totalProfiles = data.profiles;\n          this.totalOffers = data.offers;\n          this.newOffers = data.newOffers;\n          this.loading = false;\n        },\n        error: error => {\n          console.error('Erreur lors du chargement des statistiques:', error);\n          this.toastr.error('Erreur lors du chargement des statistiques');\n          this.loading = false;\n        }\n      });\n    }\n    static #_ = this.ɵfac = function CompanyHomeComponent_Factory(t) {\n      return new (t || CompanyHomeComponent)(i0.ɵɵdirectiveInject(i1.CompanyStatsService), i0.ɵɵdirectiveInject(i2.ToastrService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CompanyHomeComponent,\n      selectors: [[\"app-company-home\"]],\n      decls: 39,\n      vars: 6,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"row\"], [1, \"col-12\"], [1, \"row\", \"mt-4\"], [1, \"col-md-4\"], [1, \"card\"], [1, \"card-body\"], [1, \"card-title\"], [\"class\", \"card-text display-4\", 4, \"ngIf\"], [\"class\", \"text-center\", 4, \"ngIf\"], [1, \"d-grid\", \"gap-2\", \"d-md-block\"], [\"routerLink\", \"/company/create-offer\", 1, \"btn\", \"btn-primary\", \"me-2\"], [\"routerLink\", \"/company/manage-offers\", 1, \"btn\", \"btn-secondary\"], [1, \"card-text\", \"display-4\"], [1, \"text-center\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"]],\n      template: function CompanyHomeComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"app-company-navbar\");\n          i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"h2\");\n          i0.ɵɵtext(5, \"Tableau de bord de l'entreprise\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 3)(7, \"div\", 4)(8, \"div\", 5)(9, \"div\", 6)(10, \"h5\", 7);\n          i0.ɵɵtext(11, \"Offres actives\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(12, CompanyHomeComponent_p_12_Template, 2, 1, \"p\", 8);\n          i0.ɵɵtemplate(13, CompanyHomeComponent_div_13_Template, 4, 0, \"div\", 9);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(14, \"div\", 4)(15, \"div\", 5)(16, \"div\", 6)(17, \"h5\", 7);\n          i0.ɵɵtext(18, \"Candidatures re\\u00E7ues\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(19, CompanyHomeComponent_p_19_Template, 2, 1, \"p\", 8);\n          i0.ɵɵtemplate(20, CompanyHomeComponent_div_20_Template, 4, 0, \"div\", 9);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(21, \"div\", 4)(22, \"div\", 5)(23, \"div\", 6)(24, \"h5\", 7);\n          i0.ɵɵtext(25, \"Nouvelles candidatures\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(26, CompanyHomeComponent_p_26_Template, 2, 1, \"p\", 8);\n          i0.ɵɵtemplate(27, CompanyHomeComponent_div_27_Template, 4, 0, \"div\", 9);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(28, \"div\", 3)(29, \"div\", 2)(30, \"div\", 5)(31, \"div\", 6)(32, \"h5\", 7);\n          i0.ɵɵtext(33, \"Actions rapides\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(34, \"div\", 10)(35, \"button\", 11);\n          i0.ɵɵtext(36, \" Cr\\u00E9er une nouvelle offre \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(37, \"button\", 12);\n          i0.ɵɵtext(38, \" G\\u00E9rer les offres \");\n          i0.ɵɵelementEnd()()()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        }\n      },\n      dependencies: [i3.NgIf, i4.RouterLink, i5.CompanyNavbarComponent],\n      styles: [\".card[_ngcontent-%COMP%]{margin-bottom:1rem;background:white;transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 8px #0000001a}.card-title[_ngcontent-%COMP%]{margin-bottom:1rem;color:#333;font-size:1.1rem}.display-4[_ngcontent-%COMP%]{margin-bottom:0;color:#007bff;font-weight:700}.btn[_ngcontent-%COMP%]{margin-right:1rem;margin-bottom:1rem}.btn[_ngcontent-%COMP%]:last-child{margin-right:0}h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:2rem;font-weight:600}@media (max-width: 768px){.card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{width:100%;margin-right:0}}\"]\n    });\n  }\n  return CompanyHomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
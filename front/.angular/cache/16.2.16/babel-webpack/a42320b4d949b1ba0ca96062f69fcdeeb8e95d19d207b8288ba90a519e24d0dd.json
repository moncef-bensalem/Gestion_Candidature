{"ast":null,"code":"import { forkJoin } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../_services/company-stats.service\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../company-navbar/company-navbar.component\";\nfunction CompanyHomeComponent_p_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.totalProfiles);\n  }\n}\nfunction CompanyHomeComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\", 18)(2, \"span\", 19);\n    i0.ɵɵtext(3, \"Chargement...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction CompanyHomeComponent_p_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.totalOffers);\n  }\n}\nfunction CompanyHomeComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\", 18)(2, \"span\", 19);\n    i0.ɵɵtext(3, \"Chargement...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction CompanyHomeComponent_p_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r4.newOffers);\n  }\n}\nfunction CompanyHomeComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"div\", 18)(2, \"span\", 19);\n    i0.ɵɵtext(3, \"Chargement...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport let CompanyHomeComponent = /*#__PURE__*/(() => {\n  class CompanyHomeComponent {\n    constructor(companyStatsService, toastr) {\n      this.companyStatsService = companyStatsService;\n      this.toastr = toastr;\n      this.totalProfiles = 0;\n      this.totalOffers = 5;\n      this.newOffers = 0;\n      this.loading = true;\n    }\n    ngOnInit() {\n      this.loadDashboardData();\n    }\n    loadDashboardData() {\n      this.loading = true;\n      // Utiliser forkJoin pour faire toutes les requêtes en parallèle\n      forkJoin({\n        profiles: this.companyStatsService.getProfilesCount(),\n        offers: this.companyStatsService.getOffersCount(),\n        newOffers: this.companyStatsService.getNewOffersCount()\n      }).subscribe({\n        next: data => {\n          this.totalProfiles = data.profiles;\n          this.totalOffers = data.offers;\n          this.newOffers = data.newOffers;\n          this.loading = false;\n        },\n        error: error => {\n          console.error('Erreur lors du chargement des statistiques:', error);\n          this.toastr.error('Erreur lors du chargement des statistiques');\n          this.loading = false;\n        }\n      });\n    }\n    static #_ = this.ɵfac = function CompanyHomeComponent_Factory(t) {\n      return new (t || CompanyHomeComponent)(i0.ɵɵdirectiveInject(i1.CompanyStatsService), i0.ɵɵdirectiveInject(i2.ToastrService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CompanyHomeComponent,\n      selectors: [[\"app-company-home\"]],\n      decls: 43,\n      vars: 6,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"row\"], [1, \"col-12\"], [1, \"text-end\", \"mb-4\"], [\"routerLink\", \"/company/create-offer\", 1, \"btn\", \"btn-primary\"], [1, \"fas\", \"fa-plus\", \"me-2\"], [1, \"row\", \"mt-4\"], [1, \"col-md-4\"], [1, \"card\"], [1, \"card-body\"], [1, \"card-title\"], [\"class\", \"card-text display-4\", 4, \"ngIf\"], [\"class\", \"text-center\", 4, \"ngIf\"], [1, \"d-grid\", \"gap-2\", \"d-md-block\"], [\"routerLink\", \"/company/create-offer\", 1, \"btn\", \"btn-primary\", \"me-2\"], [\"routerLink\", \"/company/manage-offers\", 1, \"btn\", \"btn-secondary\"], [1, \"card-text\", \"display-4\"], [1, \"text-center\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"]],\n      template: function CompanyHomeComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelement(0, \"app-company-navbar\");\n          i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"h2\");\n          i0.ɵɵtext(5, \"Tableau de bord de l'entreprise\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 3)(7, \"button\", 4);\n          i0.ɵɵelement(8, \"i\", 5);\n          i0.ɵɵtext(9, \"Cr\\u00E9er une nouvelle offre \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"div\", 6)(11, \"div\", 7)(12, \"div\", 8)(13, \"div\", 9)(14, \"h5\", 10);\n          i0.ɵɵtext(15, \"Total des Profils\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(16, CompanyHomeComponent_p_16_Template, 2, 1, \"p\", 11);\n          i0.ɵɵtemplate(17, CompanyHomeComponent_div_17_Template, 4, 0, \"div\", 12);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(18, \"div\", 7)(19, \"div\", 8)(20, \"div\", 9)(21, \"h5\", 10);\n          i0.ɵɵtext(22, \"Total des Offres\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(23, CompanyHomeComponent_p_23_Template, 2, 1, \"p\", 11);\n          i0.ɵɵtemplate(24, CompanyHomeComponent_div_24_Template, 4, 0, \"div\", 12);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(25, \"div\", 7)(26, \"div\", 8)(27, \"div\", 9)(28, \"h5\", 10);\n          i0.ɵɵtext(29, \"Nouvelles Offres (7j)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(30, CompanyHomeComponent_p_30_Template, 2, 1, \"p\", 11);\n          i0.ɵɵtemplate(31, CompanyHomeComponent_div_31_Template, 4, 0, \"div\", 12);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(32, \"div\", 6)(33, \"div\", 2)(34, \"div\", 8)(35, \"div\", 9)(36, \"h5\", 10);\n          i0.ɵɵtext(37, \"Actions rapides\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"div\", 13)(39, \"button\", 14);\n          i0.ɵɵtext(40, \" Cr\\u00E9er une nouvelle offre \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(41, \"button\", 15);\n          i0.ɵɵtext(42, \" G\\u00E9rer les offres \");\n          i0.ɵɵelementEnd()()()()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        }\n      },\n      dependencies: [i3.NgIf, i4.RouterLink, i5.CompanyNavbarComponent],\n      styles: [\".card[_ngcontent-%COMP%]{margin-bottom:1rem;background:white;transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 8px #0000001a}.card-title[_ngcontent-%COMP%]{margin-bottom:1rem;color:#333;font-size:1.1rem}.display-4[_ngcontent-%COMP%]{margin-bottom:0;color:#007bff;font-weight:700}.btn[_ngcontent-%COMP%]{margin-right:1rem;margin-bottom:1rem}.btn[_ngcontent-%COMP%]:last-child{margin-right:0}h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:2rem;font-weight:600}@media (max-width: 768px){.card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{width:100%;margin-right:0}}\"]\n    });\n  }\n  return CompanyHomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}